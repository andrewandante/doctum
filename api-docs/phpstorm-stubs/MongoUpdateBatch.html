<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>MongoUpdateBatch | PHP Jetbrains phpstorm-stubs</title>

            <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="css/doctum.css">
        <link rel="stylesheet" type="text/css" href="fonts/doctum-font.css">
        <script src="js/jquery-3.5.1.slim.min.js"></script>
        <script async defer src="doctum.js"></script>
        <script async defer src="js/bootstrap.min.js"></script>
        <script async defer src="js/autocomplete.min.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">

    </head>

    <body id="class" data-name="class:MongoUpdateBatch" data-root-path="" data-search-index-url="doctum-search.json">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <div class="search-bar hidden" id="search-progress-bar-container">
            <div class="progress">
                <div class="progress-bar" role="progressbar" id="search-progress-bar"
                    aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>
        </div>
        <form id="search-form" action="search.html">
            <span class="icon icon-search"></span>
            <input name="search"
                   id="doctum-search-auto-complete"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search"
                   spellcheck="false"
                   autocorrect="off"
                   autocomplete="off"
                   autocapitalize="off">
            <div class="auto-complete-results" id="auto-complete-results"></div>
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">PHP Jetbrains phpstorm-stubs</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                                        <li><a href="classes.html">Classes</a></li>
                    <li><a href="namespaces.html">Namespaces</a></li>
                    <li><a href="interfaces.html">Interfaces</a></li>
                    <li><a href="traits.html">Traits</a></li>
                    <li><a href="doc-index.html">Index</a></li>
                    <li><a href="search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                            <div id="page-content">
    <div class="page-header">
        <h1>MongoUpdateBatch    
            </h1>
    </div>

    
    <p>        class
    <strong>MongoUpdateBatch</strong>        extends <a href="MongoWriteBatch.html">MongoWriteBatch</a>        (<a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/mongo/mongo.php">View source</a>)
</p>

        
    
        

            
        
            <h2>Constants</h2>    <table class="table table-condensed">
                    <tr>
                <td>
                                                                                                                        COMMAND_INSERT
                                    </td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>
                                                                                                                        COMMAND_UPDATE
                                    </td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>
                                                                                                                        COMMAND_DELETE
                                    </td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
            </table>

    
    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method___construct">__construct</a>(<a href="MongoCollection.html">MongoCollection</a> $collection, array $write_options)
        
                                            <p><p>(PECL mongo &gt;= 1.5.0)</p>
<p>MongoUpdateBatch constructor.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_add">add</a>(array $item)
        
                                            <p><p>(PECL mongo &gt;= 1.5.0)</p>
<p>Adds a write operation to a batch</p></p>                </div>
                <div class="col-md-2"><small>from&nbsp;<a href="MongoWriteBatch.html#method_add">
MongoWriteBatch</a></small></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8">
                    <a href="#method_execute">execute</a>(array $write_options)
        
                                            <p><p>(PECL mongo &gt;= 1.5.0)</p>
<p>Executes a batch of write operations</p></p>                </div>
                <div class="col-md-2"><small>from&nbsp;<a href="MongoWriteBatch.html#method_execute">
MongoWriteBatch</a></small></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method___construct">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/mongo/mongo.php#L2312">at line 2312</a></div>
        <code>                    
    <strong>__construct</strong>(<a href="MongoCollection.html">MongoCollection</a> $collection, array $write_options)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>(PECL mongo &gt;= 1.5.0)</p>
<p>MongoUpdateBatch constructor.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="MongoCollection.html">MongoCollection</a></td>
                <td>$collection</td>
                <td><p>The {\MongoCollection} to execute the batch on.
Its <a href="https://php.net/manual/en/mongo.writeconcerns.php">https://php.net/manual/en/mongo.writeconcerns.php</a> write concern
will be copied and used as the default write concern if none is given as <code >$write_options``` or during
{<a href="MongoWriteBatch.html">\MongoWriteBatch::execute()}.</a></p></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$write_options</td>
                <td><p>[optional]</p>
<p> An array of Write Options.</p><table><thead><tr><th>key</th><th>value meaning</th></tr>
</thead>
<tbody><tr><td>w (int|string)</td><td>https://php.net/manual/en/mongo.writeconcerns.php Write concern value</td></tr>
<tr><td>wtimeout (int)</td><td>https://php.net/manual/en/mongo.writeconcerns.php Maximum time to wait for replication</td></tr>
<tr><td>ordered</td><td>Determins if MongoDB must apply this batch in order (sequentally, one item at a time) or can rearrange it.
Defaults to <strong>```TRUE```</strong></td></tr>
<tr><td>j (bool)</td><td>Wait for journaling on the primary. This value is discouraged, use WriteConcern instead</td></tr>
<tr><td>fsync (bool)</td><td>Wait for fsync on the primary. This value is discouraged, use WriteConcern instead</td></tr>
</tbody></table></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_add">
        <div class="location">in <a href="MongoWriteBatch.html#method_add">
MongoWriteBatch</a> <a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/mongo/mongo.php#L2280">at line 2280</a></div>
        <code>                    bool
    <strong>add</strong>(array $item)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>(PECL mongo &gt;= 1.5.0)</p>
<p>Adds a write operation to a batch</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$item</td>
                <td><p>
An array that describes a write operation. The structure of this value
depends on the batch's operation type.
</p><table>
<thead>
<tr>
<th>Batch type</th>
<th>Argument expectation</th>
</tr>

</thead>

<tbody>
<tr>
<td><strong>```MongoWriteBatch::COMMAND_INSERT```</strong></td>
<td>
The document to add.
</td>
</tr>
<tr>
<td><strong>```MongoWriteBatch::COMMAND_UPDATE```</strong></td>
<td>
<p>Raw update operation.</p>
<p>Required keys are <em>"q"</em> and <em>"u"</em>, which correspond to the
```$criteria``` and ```$new_object``` parameters of {[\MongoCollection::update()},](MongoCollection.html) respectively.</p>
<p>Optional keys are <em>"multi"</em> and <em>"upsert"</em>, which correspond to the
<em>"multiple"</em> and <em>"upsert"</em> options for {[\MongoCollection::update()},](MongoCollection.html) respectively.
If unspecified, both options default to <strong>```FALSE```</strong>.</p>
</td>
</tr>
<tr>
<td><strong>```MongoWriteBatch::COMMAND_DELETE```</strong></td>
<td>
<p class="para">Raw delete operation.</p>
<p>Required keys are: <em>"q"</em> and <em>"limit"</em>, which correspond to the ```$criteria``` parameter
and <em>"justOne"</em> option of {[\MongoCollection::remove()},](MongoCollection.html) respectively.</p>
<p>The <em>"limit"</em> option is an integer; however, MongoDB only supports <em>0</em> (i.e. remove all matching
ocuments) and <em>1</em> (i.e. remove at most one matching document) at this time.</p>
</td>
</tr>
</tbody>
</table></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td><p><b>Returns TRUE on success and throws an exception on failure.</b></p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_execute">
        <div class="location">in <a href="MongoWriteBatch.html#method_execute">
MongoWriteBatch</a> <a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/mongo/mongo.php#L2291">at line 2291</a></div>
        <code>final                    array
    <strong>execute</strong>(array $write_options)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>(PECL mongo &gt;= 1.5.0)</p>
<p>Executes a batch of write operations</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$write_options</td>
                <td><p>See {<a href="MongoWriteBatch.html">\MongoWriteBatch::__construct}</a></p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td><p>Returns an array containing statistical information for the full batch.
If the batch had to be split into multiple batches, the return value will aggregate the values from individual batches and return only the totals.
If the batch was empty, an array containing only the 'ok' field is returned (as <b>TRUE</b>) although nothing will be shipped over the wire (NOOP).</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
            </div>

    
</div><div id="footer">
        Generated by <a href="https://github.com/code-lts/doctum">Doctum, a API Documentation generator and fork of Sami</a>.            <br/>This documentation is built using <a href="https://github.com/JetBrains/phpstorm-stubs#readme" rel="noreferrer noopener" target="_blank">phpstorm-stubs</a> from JetBrains.</div></div>
    </div>
    </body>

</html>
